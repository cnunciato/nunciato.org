---
import { getCollection } from "astro:content";
import Header from "../../components/Header.astro";
import BaseHead from "../../components/BaseHead.astro";
import DefaultLayout from "../../layouts/DefaultLayout.astro";

export async function getStaticPaths() {
    const photos = await getCollection("photos");

    return photos.map(photo => ({
        params: {
            slug: photo.slug,
        },
        props: { photo },
    }));
}

const { photo: p } = Astro.props;
const { title, description, photo } = p.data;
---

<DefaultLayout title={title} description={description || ""}>
    <img
        class="rounded-lg shadow-lg"
        src={photo.url.replace("s3/", "https://s3.amazonaws.com/cnunciato-website-media/")}
    />
</DefaultLayout>
